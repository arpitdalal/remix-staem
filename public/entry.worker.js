var u=(e,t={})=>{let r=typeof t=="number"?{status:t}:t,a=new Headers(r.headers);return a.has("Content-Type")||a.set("Content-Type","application/json; charset=utf-8"),new Response(JSON.stringify(e),{...r,headers:a})};var C=["/build/","/icons/"],f="asset-cache",p="data-cache",m="document-cache";function s(...e){}async function E(e){s("Service worker installed")}async function k(e){s("Service worker activated")}async function q(e){let t=new Map;if(e.data.type==="REMIX_NAVIGATION"){let{isMount:r,location:a,matches:l,manifest:w}=e.data,n=a.pathname+a.search+a.hash,[g,y,S]=await Promise.all([caches.open(p),caches.open(m),caches.match(n)]);if((!S||!r)&&(s("Caching document for",n),t.set(n,y.add(n).catch(c=>{s(`Failed to cache document for ${n}:`,c)}))),r){for(let c of l)if(w.routes[c.id].hasLoader){let d=new URLSearchParams(a.search);d.set("_data",c.id);let i=d.toString();i=i?`?${i}`:"";let o=a.pathname+i+a.hash;t.has(o)||(s("Caching data for",o),t.set(o,g.add(o).catch(R=>{s(`Failed to cache data for ${o}:`,R)})))}}}await Promise.all(t.values())}async function x(e){let t=new URL(e.request.url);if(b(e.request)){let r=await caches.match(e.request,{cacheName:f,ignoreVary:!0,ignoreSearch:!0});if(r)return s("Serving asset from cache",t.pathname),r;s("Serving asset from network",t.pathname);let a=await fetch(e.request);return a.status===200&&await(await caches.open(f)).put(e.request,a.clone()),a}if(A(e.request))try{s("Serving data from network",t.pathname+t.search);let r=await fetch(e.request.clone());return await(await caches.open(p)).put(e.request,r.clone()),r}catch{s("Serving data from network failed, falling back to cache",t.pathname+t.search);let a=await caches.match(e.request);return a?(a.headers.set("X-Remix-Worker","yes"),a):u({message:"Network Error"},{status:500,headers:{"X-Remix-Catch":"yes","X-Remix-Worker":"yes"}})}if(L(e.request))try{s("Serving document from network",t.pathname);let r=await fetch(e.request);return await(await caches.open(m)).put(e.request,r.clone()),r}catch(r){s("Serving document from network failed, falling back to cache",t.pathname);let a=await caches.match(e.request);if(a)return a;throw r}return fetch(e.request.clone())}function h(e,t){return t.includes(e.method.toLowerCase())}function b(e){return h(e,["get"])&&C.some(t=>e.url.startsWith(t))}function A(e){let t=new URL(e.url);return h(e,["get"])&&t.searchParams.get("_data")}function L(e){return h(e,["get"])&&e.mode==="navigate"}self.addEventListener("install",e=>{e.waitUntil(E(e).then(()=>self.skipWaiting()))});self.addEventListener("activate",e=>{e.waitUntil(k(e).then(()=>self.clients.claim()))});self.addEventListener("message",e=>{e.waitUntil(q(e))});self.addEventListener("fetch",e=>{e.respondWith((async()=>{let t={};try{t.response=await x(e)}catch(r){t.error=r}return F(e,t)})())});async function F(e,{error:t,response:r}){return r||new Response}
/**
 * @remix-run/server-runtime v1.4.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */
